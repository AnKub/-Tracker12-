# üìö –®–ü–ê–†–ì–ê–õ–ö–ê REACT + ZUSTAND –ü–ê–¢–¢–ï–†–ù–Ü–í

*–ó–±–µ—Ä—ñ–≥–∞–π —Ü–µ–π —Ñ–∞–π–ª —Ç–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π —è–∫ –¥–æ–≤—ñ–¥–Ω–∏–∫ –¥–ª—è –Ω–∞–ø–∏—Å–∞–Ω–Ω—è –∫–æ–¥—É!*

---

## üéØ **–ü–ê–¢–¢–ï–†–ù 1: CRUD –û–ü–ï–†–ê–¶–Ü–á –í ZUSTAND**

### üìù **–ë–∞–∑–æ–≤–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:**
```types
operationName: (params) => {
  try {
    // 1. –ó–º—ñ–Ω—é—é —Ñ—ñ–∑–∏—á–Ω–µ —Å—Ö–æ–≤–∏—â–µ (localStorage/API)
    storage.method(params);
    
    // 2. –û—Ç—Ä–∏–º—É—é –ø–æ—Ç–æ—á–Ω–∏–π —Å—Ç–∞–Ω
    const current = get().data;
    
    // 3. –û–±—á–∏—Å–ª—é—é –Ω–æ–≤–∏–π —Å—Ç–∞–Ω
    const newData = /* –ª–æ–≥—ñ–∫–∞ –æ–±—á–∏—Å–ª–µ–Ω–Ω—è */;
    
    // 4. –û–Ω–æ–≤–ª—é—é –≥–ª–æ–±–∞–ª—å–Ω–∏–π —Å—Ç–∞–Ω
    set({ 
      data: newData,
      error: null  // –æ—á–∏—â—É—é –ø–æ–º–∏–ª–∫–∏
    });
    
  } catch (error) {
    // 5. –û–±—Ä–æ–±–ª—è—é –ø–æ–º–∏–ª–∫–∏
    set({ error: '–û–ø–∏—Å –ø–æ–º–∏–ª–∫–∏' });
  }
},
```

---

### üóëÔ∏è **–ü–†–ò–ö–õ–ê–î 1: –í–∏–¥–∞–ª–µ–Ω–Ω—è —Ç–æ–≤–∞—Ä—É –∑ –∫–æ—à–∏–∫–∞**

**–°–∏—Ç—É–∞—Ü—ñ—è:** *–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –∫–ª—ñ–∫–∞—î "–í–∏–¥–∞–ª–∏—Ç–∏" –Ω–∞ —Ç–æ–≤–∞—Ä—ñ –≤ –∫–æ—à–∏–∫—É*

```typescript
removeFromCart: (productId: string) => {
  try {
    // 1. –í–∏–¥–∞–ª—è—é –∑ localStorage (—Ñ—ñ–∑–∏—á–Ω–æ)
    cartStorage.removeProduct(productId);
    
    // 2. –û—Ç—Ä–∏–º—É—é –ø–æ—Ç–æ—á–Ω—ñ —Ç–æ–≤–∞—Ä–∏ –≤ –∫–æ—à–∏–∫—É
    const currentItems = get().cartItems;
    
    // 3. –°—Ç–≤–æ—Ä—é—é –Ω–æ–≤–∏–π –º–∞—Å–∏–≤ –ë–ï–ó –≤–∏–¥–∞–ª–µ–Ω–æ–≥–æ —Ç–æ–≤–∞—Ä—É
    const updatedItems = currentItems.filter(item => item.id !== productId);
    
    // 4. –û–Ω–æ–≤–ª—é—é —Å—Ç–∞–Ω –ø—Ä–æ–≥—Ä–∞–º–∏
    set({
      cartItems: updatedItems,
      totalPrice: calculateTotal(updatedItems), // –ø–µ—Ä–µ—Ä–∞—Ö–æ–≤—É—é —Å—É–º—É
      error: null
    });
    
  } catch (error) {
    // 5. –ü–æ–∫–∞–∑—É—é –ø–æ–º–∏–ª–∫—É —è–∫—â–æ —â–æ—Å—å –ø—ñ—à–ª–æ –Ω–µ —Ç–∞–∫
    set({ error: '–ù–µ –≤–¥–∞–ª–æ—Å—è –≤–∏–¥–∞–ª–∏—Ç–∏ —Ç–æ–≤–∞—Ä –∑ –∫–æ—à–∏–∫–∞' });
  }
},
```

### ‚úèÔ∏è **–ü–†–ò–ö–õ–ê–î 2: –û–Ω–æ–≤–ª–µ–Ω–Ω—è –ø—Ä–æ—Ñ—ñ–ª—é –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞**

**–°–∏—Ç—É–∞—Ü—ñ—è:** *–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –∑–º—ñ–Ω—é—î —Å–≤–æ—î —ñ–º'—è –≤ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è—Ö*

```typescript
updateUserProfile: (updates: Partial<UserProfile>) => {
  try {
    // 1. –ó–±–µ—Ä—ñ–≥–∞—é –∑–º—ñ–Ω–∏ –≤ localStorage
    userStorage.updateProfile(updates);
    
    // 2. –û—Ç—Ä–∏–º—É—é –ø–æ—Ç–æ—á–Ω—ñ –¥–∞–Ω—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
    const currentUser = get().user;
    
    // 3. –û–±'—î–¥–Ω—É—é —Å—Ç–∞—Ä—ñ –¥–∞–Ω—ñ –∑ –Ω–æ–≤–∏–º–∏
    const updatedUser = { ...currentUser, ...updates };
    
    // 4. –û–Ω–æ–≤–ª—é—é –≥–ª–æ–±–∞–ª—å–Ω–∏–π —Å—Ç–∞–Ω
    set({
      user: updatedUser,
      isProfileUpdated: true,  // —Ñ–ª–∞–≥ –¥–ª—è –ø–æ–∫–∞–∑—É "–ó–±–µ—Ä–µ–∂–µ–Ω–æ!"
      error: null
    });
    
  } catch (error) {
    set({ error: '–ü–æ–º–∏–ª–∫–∞ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –ø—Ä–æ—Ñ—ñ–ª—é' });
  }
},
```

---

## üéØ **–ü–ê–¢–¢–ï–†–ù 2: REACT –•–£–ö–ò (useState + useEffect)**

### üìù **–ë–∞–∑–æ–≤–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:**
```typescript
export const useCustomHook = () => {
  // 1. –°–¢–ê–ù - —â–æ –∑–±–µ—Ä—ñ–≥–∞—î–º–æ
  const [value, setValue] = useState<Type>(initialValue);
  
  // 2. –ï–§–ï–ö–¢–ò - —â–æ —Ä–æ–±–∏–º–æ –ø—Ä–∏ –∑–º—ñ–Ω–∞—Ö
  useEffect(() => {
    // –õ–æ–≥—ñ–∫–∞ —è–∫–∞ –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è –ø—Ä–∏ –∑–º—ñ–Ω—ñ value
    doSomethingWithValue(value);
  }, [value]); // –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ - –∫–æ–ª–∏ –ø–µ—Ä–µ–≤—ñ—Ä—è—Ç–∏
  
  // 3. –§–£–ù–ö–¶–Ü–á - —è–∫ –∑–º—ñ–Ω—é—î–º–æ —Å—Ç–∞–Ω
  const updateValue = (newValue: Type) => {
    setValue(newValue);
  };
  
  const resetValue = () => {
    setValue(initialValue);
  };
  
  // 4. –ü–û–í–ï–†–¢–ê–Ñ–ú–û - —â–æ –≤–∏–¥–∞—î–º–æ –Ω–∞–∑–æ–≤–Ω—ñ
  return { 
    value,        // –¥–ª—è —á–∏—Ç–∞–Ω–Ω—è
    updateValue,  // –¥–ª—è –∑–º—ñ–Ω–∏
    resetValue    // –¥–ª—è —Å–∫–∏–¥–∞–Ω–Ω—è
  };
};
```

---

### üåô **–ü–†–ò–ö–õ–ê–î 1: –•—É–∫ –¥–ª—è —Ç–µ–º–∏ (—Å–≤—ñ—Ç–ª–∞/—Ç–µ–º–Ω–∞)**

**–°–∏—Ç—É–∞—Ü—ñ—è:** *–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –º–æ–∂–µ –ø–µ—Ä–µ–º–∏–∫–∞—Ç–∏ —Ç–µ–º—É —Å–∞–π—Ç—É*

```typescript
export const useTheme = () => {
  // 1. –°–¢–ê–ù - –∑–±–µ—Ä—ñ–≥–∞—é –ø–æ—Ç–æ—á–Ω—É —Ç–µ–º—É
  const [theme, setTheme] = useState<'light' | 'dark'>('light');
  
  // 2. –ï–§–ï–ö–¢ - –∫–æ–ª–∏ —Ç–µ–º–∞ –∑–º—ñ–Ω—é—î—Ç—å—Å—è, –∑–±–µ—Ä—ñ–≥–∞—é –≤ localStorage
  useEffect(() => {
    localStorage.setItem('theme', theme);           // –∑–±–µ—Ä—ñ–≥–∞—é
    document.body.className = `theme-${theme}`;     // –∑–∞—Å—Ç–æ—Å–æ–≤—É—é CSS
  }, [theme]);
  
  // 3. –§–£–ù–ö–¶–Ü–á –¥–ª—è –∑–º—ñ–Ω–∏ —Ç–µ–º–∏
  const toggleTheme = () => {
    const newTheme = theme === 'light' ? 'dark' : 'light';
    setTheme(newTheme);
  };
  
  const setLightTheme = () => setTheme('light');
  const setDarkTheme = () => setTheme('dark');
  
  // 4. –ü–û–í–ï–†–¢–ê–Æ –≤—Å–µ —â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º
  return { 
    theme,          // –ø–æ—Ç–æ—á–Ω–∞ —Ç–µ–º–∞
    toggleTheme,    // –ø–µ—Ä–µ–º–∏–∫–∞—á
    setLightTheme,  // –ø—Ä–∏–º—É—Å–æ–≤–æ —Å–≤—ñ—Ç–ª–∞
    setDarkTheme    // –ø—Ä–∏–º—É—Å–æ–≤–æ —Ç–µ–º–Ω–∞
  };
};
```

### üì± **–ü–†–ò–ö–õ–ê–î 2: –•—É–∫ –¥–ª—è –º–æ–±—ñ–ª—å–Ω–æ–≥–æ –º–µ–Ω—é**

**–°–∏—Ç—É–∞—Ü—ñ—è:** *–ù–∞ —Ç–µ–ª–µ—Ñ–æ–Ω—ñ –º–µ–Ω—é —Ö–æ–≤–∞—î—Ç—å—Å—è/–ø–æ–∫–∞–∑—É—î—Ç—å—Å—è –ø—Ä–∏ –∫–ª—ñ–∫—É*

```typescript
export const useMobileMenu = () => {
  // 1. –°–¢–ê–ù - —á–∏ –≤—ñ–¥–∫—Ä–∏—Ç–µ –º–µ–Ω—é
  const [isOpen, setIsOpen] = useState(false);
  
  // 2. –ï–§–ï–ö–¢ - –∑–∞–∫—Ä–∏–≤–∞—é –º–µ–Ω—é –ø—Ä–∏ –∑–º—ñ–Ω—ñ —Ä–æ–∑–º—ñ—Ä—É –µ–∫—Ä–∞–Ω—É
  useEffect(() => {
    const handleResize = () => {
      if (window.innerWidth > 768) {  // —è–∫—â–æ –µ–∫—Ä–∞–Ω –≤–µ–ª–∏–∫–∏–π
        setIsOpen(false);             // –∑–∞–∫—Ä–∏–≤–∞—é –º–æ–±—ñ–ª—å–Ω–µ –º–µ–Ω—é
      }
    };
    
    window.addEventListener('resize', handleResize);
    
    // –ü—Ä–∏–±–∏—Ä–∞–Ω–Ω—è —Å–ª—É—Ö–∞—á–∞ –ø—Ä–∏ –¥–µ–º–æ–Ω—Ç–∞–∂—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
    return () => window.removeEventListener('resize', handleResize);
  }, []);
  
  // 3. –§–£–ù–ö–¶–Ü–á —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –º–µ–Ω—é
  const openMenu = () => setIsOpen(true);
  const closeMenu = () => setIsOpen(false);
  const toggleMenu = () => setIsOpen(!isOpen);
  
  // 4. –ü–û–í–ï–†–¢–ê–Æ —Å—Ç–∞–Ω —Ç–∞ —Ñ—É–Ω–∫—Ü—ñ—ó
  return {
    isOpen,       // —á–∏ –≤—ñ–¥–∫—Ä–∏—Ç–µ –º–µ–Ω—é
    openMenu,     // –≤—ñ–¥–∫—Ä–∏—Ç–∏
    closeMenu,    // –∑–∞–∫—Ä–∏—Ç–∏  
    toggleMenu    // –ø–µ—Ä–µ–º–∫–Ω—É—Ç–∏
  };
};
```

---

## üéØ **–ü–ê–¢–¢–ï–†–ù 3: DUAL STORAGE (–ø–∞–º'—è—Ç—å + localStorage)**

### üìù **–ü—Ä–∏–Ω—Ü–∏–ø:**
```typescript
// –ó–ê–í–ñ–î–ò —Ç—Ä–∏–º–∞–π –¥–∞–Ω—ñ –≤ –¥–≤–æ—Ö –º—ñ—Å—Ü—è—Ö:

// 1. –ì–ª–æ–±–∞–ª—å–Ω–∏–π —Å—Ç–∞–Ω (—à–≤–∏–¥–∫–æ, –∞–ª–µ —Ç–∏–º—á–∞—Å–æ–≤–æ)
set({ data: newData });

// 2. localStorage (–ø–æ–≤—ñ–ª—å–Ω–æ, –∞–ª–µ –Ω–∞–∑–∞–≤–∂–¥–∏)
localStorage.setItem('key', JSON.stringify(newData));

// –ü—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ –ø—Ä–æ–≥–∏:
const savedData = localStorage.getItem('key');
const initialData = savedData ? JSON.parse(savedData) : defaultData;
```

---

### üõí **–ü–†–ò–ö–õ–ê–î 1: –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è –∫–æ—à–∏–∫–∞ –ø–æ–∫—É–ø–æ–∫**

**–°–∏—Ç—É–∞—Ü—ñ—è:** *–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –¥–æ–¥–∞—î —Ç–æ–≤–∞—Ä–∏ –≤ –∫–æ—à–∏–∫, –≤–æ–Ω–∏ –º–∞—é—Ç—å –∑–∞–ª–∏—à–∏—Ç–∏—Å—è –ø—ñ—Å–ª—è –ø–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è*

```typescript
// –í —Å—Ç–æ—Ä:
addToCart: (product) => {
  const currentCart = get().cart;
  const newCart = [...currentCart, product];
  
  // 1. –û–Ω–æ–≤–ª—é—é –ø–∞–º'—è—Ç—å (—à–≤–∏–¥–∫–æ)
  set({ cart: newCart });
  
  // 2. –ó–±–µ—Ä—ñ–≥–∞—é –Ω–∞–∑–∞–≤–∂–¥–∏ (–ø–æ–≤—ñ–ª—å–Ω–æ)
  localStorage.setItem('cart', JSON.stringify(newCart));
},

// –ü—Ä–∏ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó —Å—Ç–æ—Ä—É:
cart: JSON.parse(localStorage.getItem('cart') || '[]'),
```

### üíæ **–ü–†–ò–ö–õ–ê–î 2: –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞**

**–°–∏—Ç—É–∞—Ü—ñ—è:** *–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –≤—Å—Ç–∞–Ω–æ–≤–ª—é—î –º–æ–≤—É, —Ä–æ–∑–º—ñ—Ä —à—Ä–∏—Ñ—Ç—É - –º–∞—î –∑–±–µ—Ä–µ–≥—Ç–∏—Å—è*

```typescript
updateSettings: (newSettings) => {
  const currentSettings = get().settings;
  const updatedSettings = { ...currentSettings, ...newSettings };
  
  // 1. –ú–∏—Ç—Ç—î–≤–æ –æ–Ω–æ–≤–ª—é—é —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å
  set({ settings: updatedSettings });
  
  // 2. –ó–±–µ—Ä—ñ–≥–∞—é –¥–ª—è –Ω–∞—Å—Ç—É–ø–Ω–æ–≥–æ —Ä–∞–∑—É
  localStorage.setItem('userSettings', JSON.stringify(updatedSettings));
  
  // 3. –ó–∞—Å—Ç–æ—Å–æ–≤—É—é –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –¥–æ DOM
  if (updatedSettings.fontSize) {
    document.documentElement.style.fontSize = updatedSettings.fontSize;
  }
},
```

---

## üß† **–ú–ù–ï–ú–û–ù–Ü–ß–ù–Ü –ü–†–ê–í–ò–õ–ê –î–õ–Ø –ó–ê–ü–ê–ú'–Ø–¢–û–í–£–í–ê–ù–ù–Ø:**

1. **"–°–ø—Ä–æ–±—É–π-–°–ø—ñ–π–º–∞–π"** - –∑–∞–≤–∂–¥–∏ try-catch –¥–ª—è localStorage
2. **"–ü—Ä–æ—á–∏—Ç–∞–π-–û–±—á–∏—Å–ª–∏-–ó–∞–ø–∏—à–∏"** - get() ‚Üí –ª–æ–≥—ñ–∫–∞ ‚Üí set()
3. **"–°—Ç–∞–Ω-–ï—Ñ–µ–∫—Ç-–§—É–Ω–∫—Ü—ñ—ó-–ü–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è"** - —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ React —Ö—É–∫—ñ–≤
4. **"–®–≤–∏–¥–∫–æ-–ü–æ–≤—ñ–ª—å–Ω–æ"** - —Å–ø–æ—á–∞—Ç–∫—É —Å—Ç–∞–Ω, –ø–æ—Ç—ñ–º localStorage
5. **"–û–¥–∏–Ω —Ö—É–∫ - –æ–¥–Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω—ñ—Å—Ç—å"** - –Ω–µ –º—ñ–∫—Å—É–π –ª–æ–≥—ñ–∫—É

---

## ‚úÖ **–ß–ï–ö–õ–ò–°–¢ –ü–ï–†–ï–î –ù–ê–ü–ò–°–ê–ù–ù–Ø–ú –ö–û–î–£:**

- [ ] –ß–∏ –ø–æ—Ç—Ä—ñ–±–µ–Ω try-catch?
- [ ] –ß–∏ –æ–Ω–æ–≤–ª—é—é —ñ —Å—Ç–∞–Ω —ñ localStorage?
- [ ] –ß–∏ –æ—á–∏—â–∞—é –ø–æ–º–∏–ª–∫–∏ –ø—Ä–∏ —É—Å–ø—ñ—Ö—É?
- [ ] –ß–∏ –ø—Ä–∞–≤–∏–ª—å–Ω—ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –≤ useEffect?
- [ ] –ß–∏ –ø–æ–≤–µ—Ä—Ç–∞—é –≤—Å–µ –ø–æ—Ç—Ä—ñ–±–Ω–µ –∑ —Ö—É–∫–∞?

**–ó–±–µ—Ä—ñ–≥–∞–π —Ü—é —à–ø–∞—Ä–≥–∞–ª–∫—É —Ç–∞ –∫–æ—Ä–∏—Å—Ç—É–π—Å—è –ø—Ä–∏ –Ω–∞–ø–∏—Å–∞–Ω–Ω—ñ –∫–æ–¥—É! üöÄ**